{% extends "base.html" %}
{% block content %}
<section class="hero">
  <div>
    <h1>Admin</h1>
    <p class="lead">System identity and build metadata for the command center.</p>
  </div>
</section>

<section class="grid">
  <div class="metric-card">
    <div class="metric-card__label">Git Branch</div>
    <div class="metric-card__value">{{ branch }}</div>
    <div class="metric-card__sub">From repository metadata</div>
  </div>
  <div class="metric-card">
    <div class="metric-card__label">Commit Date</div>
    <div class="metric-card__value">{{ commit_date }}</div>
    <div class="metric-card__sub">Last recorded commit</div>
  </div>
</section>

<section class="panel">
  <div class="panel__header">
    <h2>Status</h2>
    <span class="panel__tag">Daemon</span>
  </div>
  <table class="status-table">
    <tr>
      <th>Status</th>
      <td class="status-cell"><span class="status-dot status-dot--ok"></span><span data-admin-field="status">{{ status.status }}</span></td>
    </tr>
    <tr>
      <th>Host Uptime</th>
      <td data-admin-field="host_uptime">{{ status.host_uptime }}</td>
    </tr>
    <tr>
      <th>Image Uptime</th>
      <td data-admin-field="image_uptime">{{ status.image_uptime }}</td>
    </tr>
    <tr>
      <th>CPU Load</th>
      <td data-admin-field="cpu">{{ status.cpu }}</td>
    </tr>
    <tr>
      <th>RAM Usage</th>
      <td data-admin-field="memory">{{ status.memory }}</td>
    </tr>
    <tr>
      <th>Disk /data</th>
      <td data-admin-field="disk_data">{{ status.disk_data }}</td>
    </tr>
    <tr>
      <th>Wi-Fi (wlan0)</th>
      <td data-admin-field="wifi">
        {% if status.wifi.percent is not none %}
        <div class="wifi-meter">
          <div class="wifi-meter__bar">
            <div class="wifi-meter__fill" style="width: {{ status.wifi.percent }}%;"></div>
          </div>
          <div class="wifi-meter__label">{{ status.wifi.percent }}% ({{ status.wifi.label }})</div>
        </div>
        {% else %}
        <span>unknown</span>
        {% endif %}
      </td>
    </tr>
    <tr>
      <th>Liquidctl</th>
      <td data-admin-field="liquidctl">{{ status.liquidctl }}</td>
    </tr>
  </table>
</section>
<script src="/static/js/admin.js"></script>
{% endblock %}
